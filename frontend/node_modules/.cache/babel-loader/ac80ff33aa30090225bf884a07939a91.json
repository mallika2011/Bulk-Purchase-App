{"ast":null,"code":"var _jsxFileName = \"/home/mallika/Desktop/DASS/Assn/A2/Bulk-Purchase-App/frontend/src/components/VendorViewProduct.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Form from \"react-bootstrap/Form\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\"; // export default class VendorViewAll extends Component {\n//   constructor(props) {\n//       super(props);\n//       this.state = { prods: [] };\n//     }\n//     componentDidMount() {\n//       const newUser = {\n//         username: localStorage.getItem(\"username\")\n//       };\n//       // this.setState({ username: newUser.username });\n//       axios\n//         .post(\"http://localhost:4000/viewVendorProduct\", newUser)\n//         .then(response => {\n//           this.setState({ prods: response.data });\n//         })\n//         .catch(function(error) {\n//           console.log(error);\n//         });\n//     }\n//   onDelEvent() {\n//   this.props.onDelEvent(this.props.product);\n//   }\n//   render() {\n//     return (\n//       <div>\n//         <Nav variant=\"pills\" defaultActiveKey=\"/home\">\n//           <Nav.Item>\n//             <Nav.Link href=\"/VendorHome\">HOME</Nav.Link>\n//           </Nav.Item>\n//           <Nav.Item>\n//             <Nav.Link href=\"/VendorAddProduct\">Add Products</Nav.Link>\n//           </Nav.Item>\n//           <Nav.Item>\n//             <Nav.Link href=\"/VendorViewProduct\">View All</Nav.Link>\n//           </Nav.Item>\n//           <Nav.Item>\n//             <Nav.Link href=\"/dispatch\">Dispatch</Nav.Link>\n//           </Nav.Item>\n//         </Nav>\n//         <h1>{localStorage.getItem(\"username\")}'s Products</h1>\n//         <table className=\"table table-striped\">\n//           <thead>\n//             <tr>\n//               <th>Product Name</th>\n//               <th>Price</th>\n//               <th>Quantity</th>\n//               <th>Status</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {this.state.prods.map((p, i) => {\n//               return (\n//                 <tr>\n//                   <td>{p.productname}</td>\n//                   <td>{p.price}</td>\n//                   <td>{p.quantity}</td>\n//                   <td>{p.status}</td>\n//                   <td className=\"del-cell\">\n//                   <input type=\"button\" onClick={this.onDelEvent.bind(this)} value=\"X\" className=\"del-btn\"/>\n//                   </td>\n//                 </tr>\n//               );\n//             })}\n//           </tbody>\n//         </table>\n//       </div>\n//     );\n//   }\n// }\n\nexport default class VendorViewAll extends React.Component {\n  constructor(props) {\n    super(props); //  this.state.products = [];\n\n    this.state = {};\n    this.state.filterText = \"\";\n    this.state.prods = [];\n  }\n\n  componentDidMount() {\n    const newUser = {\n      username: localStorage.getItem(\"username\")\n    }; // this.setState({ username: newUser.username });\n\n    axios.post(\"http://localhost:4000/viewVendorProduct\", newUser).then(response => {\n      this.setState({\n        prods: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleUserInput(filterText) {\n    this.setState({\n      filterText: filterText\n    });\n  }\n\n  handleRowDel(product) {\n    var index = this.state.products.indexOf(product);\n    this.state.products.splice(index, 1);\n    this.setState(this.state.products);\n  }\n\n  handleProductTable(evt) {\n    var item = {\n      id: evt.target.id,\n      name: evt.target.name,\n      value: evt.target.value\n    };\n    var products = this.state.products.slice();\n    var newProducts = products.map(function (product) {\n      for (var key in product) {\n        if (key == item.name && product.id == item.id) {\n          product[key] = item.value;\n        }\n      }\n\n      return product;\n    });\n    this.setState({\n      products: newProducts\n    }); //  console.log(this.state.products);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      filterText: this.state.filterText,\n      onUserInput: this.handleUserInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(ProductTable, {\n      onProductTableUpdate: this.handleProductTable.bind(this),\n      onRowDel: this.handleRowDel.bind(this),\n      products: this.state.products,\n      filterText: this.state.filterText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass SearchBar extends React.Component {\n  handleChange() {\n    this.props.onUserInput(this.refs.filterTextInput.value);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search...\",\n      value: this.props.filterText,\n      ref: \"filterTextInput\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ProductTable extends React.Component {\n  render() {\n    var onProductTableUpdate = this.props.onProductTableUpdate;\n    var rowDel = this.props.onRowDel;\n    var filterText = this.props.filterText;\n    var product = this.props.products.map(function (product) {\n      if (product.name.indexOf(filterText) === -1) {\n        return;\n      }\n\n      return React.createElement(ProductRow, {\n        onProductTableUpdate: onProductTableUpdate,\n        product: product,\n        onDelEvent: rowDel.bind(this),\n        key: product.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Product Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Status\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, this.state.prods.map((p, i) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, p.productname), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, p.price), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, p.quantity), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, p.status), React.createElement(\"td\", {\n        className: \"del-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        onClick: this.onDelEvent.bind(this),\n        value: \"X\",\n        className: \"del-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      })));\n    }))));\n  }\n\n}\n\nclass ProductRow extends React.Component {\n  onDelEvent() {\n    this.props.onDelEvent(this.props.product);\n  }\n\n  render() {\n    return React.createElement(\"tr\", {\n      className: \"eachRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(EditableCell, {\n      onProductTableUpdate: this.props.onProductTableUpdate,\n      cellData: {\n        \"type\": \"name\",\n        value: this.props.product.name,\n        id: this.props.product.id\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(EditableCell, {\n      onProductTableUpdate: this.props.onProductTableUpdate,\n      cellData: {\n        type: \"price\",\n        value: this.props.product.price,\n        id: this.props.product.id\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(EditableCell, {\n      onProductTableUpdate: this.props.onProductTableUpdate,\n      cellData: {\n        type: \"qty\",\n        value: this.props.product.qty,\n        id: this.props.product.id\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(EditableCell, {\n      onProductTableUpdate: this.props.onProductTableUpdate,\n      cellData: {\n        type: \"category\",\n        value: this.props.product.category,\n        id: this.props.product.id\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      className: \"del-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      onClick: this.onDelEvent.bind(this),\n      value: \"X\",\n      className: \"del-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/mallika/Desktop/DASS/Assn/A2/Bulk-Purchase-App/frontend/src/components/VendorViewProduct.js"],"names":["React","Component","axios","Nav","Form","BrowserRouter","Router","Route","Link","VendorViewAll","constructor","props","state","filterText","prods","componentDidMount","newUser","username","localStorage","getItem","post","then","response","setState","data","catch","error","console","log","handleUserInput","handleRowDel","product","index","products","indexOf","splice","handleProductTable","evt","item","id","target","name","value","slice","newProducts","map","key","render","bind","SearchBar","handleChange","onUserInput","refs","filterTextInput","ProductTable","onProductTableUpdate","rowDel","onRowDel","p","i","productname","price","quantity","status","onDelEvent","ProductRow","type","qty","category"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Form from \"react-bootstrap/Form\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\n// export default class VendorViewAll extends Component {\n//   constructor(props) {\n//       super(props);\n//       this.state = { prods: [] };\n//     }\n  \n//     componentDidMount() {\n//       const newUser = {\n//         username: localStorage.getItem(\"username\")\n//       };\n//       // this.setState({ username: newUser.username });\n//       axios\n//         .post(\"http://localhost:4000/viewVendorProduct\", newUser)\n//         .then(response => {\n//           this.setState({ prods: response.data });\n//         })\n//         .catch(function(error) {\n//           console.log(error);\n//         });\n//     }\n//   onDelEvent() {\n//   this.props.onDelEvent(this.props.product);\n//   }\n\n//   render() {\n//     return (\n//       <div>\n//         <Nav variant=\"pills\" defaultActiveKey=\"/home\">\n//           <Nav.Item>\n//             <Nav.Link href=\"/VendorHome\">HOME</Nav.Link>\n//           </Nav.Item>\n//           <Nav.Item>\n//             <Nav.Link href=\"/VendorAddProduct\">Add Products</Nav.Link>\n//           </Nav.Item>\n//           <Nav.Item>\n//             <Nav.Link href=\"/VendorViewProduct\">View All</Nav.Link>\n//           </Nav.Item>\n//           <Nav.Item>\n//             <Nav.Link href=\"/dispatch\">Dispatch</Nav.Link>\n//           </Nav.Item>\n//         </Nav>\n        \n//         <h1>{localStorage.getItem(\"username\")}'s Products</h1>\n        \n//         <table className=\"table table-striped\">\n//           <thead>\n//             <tr>\n//               <th>Product Name</th>\n//               <th>Price</th>\n//               <th>Quantity</th>\n//               <th>Status</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {this.state.prods.map((p, i) => {\n//               return (\n//                 <tr>\n//                   <td>{p.productname}</td>\n//                   <td>{p.price}</td>\n//                   <td>{p.quantity}</td>\n//                   <td>{p.status}</td>\n//                   <td className=\"del-cell\">\n//                   <input type=\"button\" onClick={this.onDelEvent.bind(this)} value=\"X\" className=\"del-btn\"/>\n//                   </td>\n//                 </tr>\n//               );\n//             })}\n//           </tbody>\n//         </table>\n//       </div>\n//     );\n//   }\n// }\n\n\n\n\nexport default class VendorViewAll extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    //  this.state.products = [];\n    this.state = {};\n    this.state.filterText = \"\";\n    this.state.prods = [];\n\n  }\n  componentDidMount() {\n          const newUser = {\n            username: localStorage.getItem(\"username\")\n          };\n          // this.setState({ username: newUser.username });\n          axios\n            .post(\"http://localhost:4000/viewVendorProduct\", newUser)\n            .then(response => {\n              this.setState({ prods: response.data });\n            })\n            .catch(function(error) {\n              console.log(error);\n            });\n        }\n  handleUserInput(filterText) {\n    this.setState({filterText: filterText});\n  };\n  handleRowDel(product) {\n    var index = this.state.products.indexOf(product);\n    this.state.products.splice(index, 1);\n    this.setState(this.state.products);\n  };\n  handleProductTable(evt) {\n    var item = {\n      id: evt.target.id,\n      name: evt.target.name,\n      value: evt.target.value\n    };\nvar products = this.state.products.slice();\n  var newProducts = products.map(function(product) {\n\n    for (var key in product) {\n      if (key == item.name && product.id == item.id) {\n        product[key] = item.value;\n\n      }\n    }\n    return product;\n  });\n    this.setState({products:newProducts});\n  //  console.log(this.state.products);\n  };\n  render() {\n\n    return (\n      <div>\n        <SearchBar filterText={this.state.filterText} onUserInput={this.handleUserInput.bind(this)}/>\n        <ProductTable onProductTableUpdate={this.handleProductTable.bind(this)} onRowDel={this.handleRowDel.bind(this)} products={this.state.products} filterText={this.state.filterText}/>\n      </div>\n    );\n\n  }\n\n}\nclass SearchBar extends React.Component {\n  handleChange() {\n    this.props.onUserInput(this.refs.filterTextInput.value);\n  }\n  render() {\n    return (\n      <div>\n\n        <input type=\"text\" placeholder=\"Search...\" value={this.props.filterText} ref=\"filterTextInput\" onChange={this.handleChange.bind(this)}/>\n\n      </div>\n\n    );\n  }\n\n}\n\nclass ProductTable extends React.Component {\n\n  render() {\n    var onProductTableUpdate = this.props.onProductTableUpdate;\n    var rowDel = this.props.onRowDel;\n    var filterText = this.props.filterText;\n    var product = this.props.products.map(function(product) {\n      if (product.name.indexOf(filterText) === -1) {\n        return;\n      }\n      return (<ProductRow onProductTableUpdate={onProductTableUpdate} product={product} onDelEvent={rowDel.bind(this)} key={product.id}/>)\n    });\n    return (\n      <div>\n         <table className=\"table table-striped\">\n           <thead>\n             <tr>\n               <th>Product Name</th>\n               <th>Price</th>\n               <th>Quantity</th>\n               <th>Status</th>\n             </tr>\n           </thead>\n           <tbody>\n             {this.state.prods.map((p, i) => {\n               return (\n                 <tr>\n                   <td>{p.productname}</td>\n                   <td>{p.price}</td>\n                   <td>{p.quantity}</td>\n                   <td>{p.status}</td>\n                   <td className=\"del-cell\">\n                    <input type=\"button\" onClick={this.onDelEvent.bind(this)} value=\"X\" className=\"del-btn\"/>\n                  </td>\n                 </tr>\n               );\n             })}\n           </tbody>\n         </table>\n\n\n      </div>\n    );\n\n  }\n\n}\n\nclass ProductRow extends React.Component {\n  onDelEvent() {\n    this.props.onDelEvent(this.props.product);\n\n  }\n  render() {\n\n    return (\n      <tr className=\"eachRow\">\n        <EditableCell onProductTableUpdate={this.props.onProductTableUpdate} cellData={{\n          \"type\": \"name\",\n          value: this.props.product.name,\n          id: this.props.product.id\n        }}/>\n        <EditableCell onProductTableUpdate={this.props.onProductTableUpdate} cellData={{\n          type: \"price\",\n          value: this.props.product.price,\n          id: this.props.product.id\n        }}/>\n        <EditableCell onProductTableUpdate={this.props.onProductTableUpdate} cellData={{\n          type: \"qty\",\n          value: this.props.product.qty,\n          id: this.props.product.id\n        }}/>\n        <EditableCell onProductTableUpdate={this.props.onProductTableUpdate} cellData={{\n          type: \"category\",\n          value: this.props.product.category,\n          id: this.props.product.id\n        }}/>\n        <td className=\"del-cell\">\n          <input type=\"button\" onClick={this.onDelEvent.bind(this)} value=\"X\" className=\"del-btn\"/>\n        </td>\n      </tr>\n    );\n\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}